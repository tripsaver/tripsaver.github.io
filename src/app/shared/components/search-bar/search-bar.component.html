<form class="search-form" aria-label="Hotel search" (submit)="onSubmit($event)">
  <div class="search-field destination">
    <label for="sb-destination" class="sr-only">Destination</label>
    <input id="sb-destination" name="destination" type="text" placeholder="Search hotels, cities, or destinations..." aria-label="Destination"
      (input)="onInputChange($any($event.target).value)"
      (blur)="onBlur()"
      [value]="destination" 
      autocomplete="off" 
      class="input-text">

    <!-- Smart search dropdown with hotel details -->
    <div *ngIf="showDropdown || isSearching" class="search-dropdown">
      <div *ngIf="isSearching" class="search-loading">
        <div class="spinner"></div>
        <span>Searching hotels...</span>
      </div>
      
      <ul *ngIf="!isSearching && searchResults.length > 0" class="search-results">
        <li *ngFor="let hotel of searchResults" 
            (click)="onHotelSelect(hotel)" 
            class="search-result-item">
          <div class="hotel-image">
            <img [src]="hotel.imageUrl" [alt]="hotel.hotelName" />
          </div>
          <div class="hotel-info">
            <h4 class="hotel-name">{{ hotel.hotelName }}</h4>
            <p class="hotel-location">
              <i class="fas fa-map-marker-alt"></i>
              {{ hotel.city }}, {{ hotel.country }}
            </p>
            <div class="hotel-meta">
              <span class="hotel-rating">
                <i class="fas fa-star"></i>
                {{ hotel.rating }}
              </span>
              <span class="hotel-price">
                From {{ hotel.currency }} {{ hotel.priceFrom }}
              </span>
            </div>
          </div>
          <div class="hotel-arrow">
            <i class="fas fa-chevron-right"></i>
          </div>
        </li>
      </ul>

      <div *ngIf="!isSearching && searchResults.length === 0 && destination.length >= 2" class="no-results">
        <i class="fas fa-search"></i>
        <p>No hotels found for "{{ destination }}". Try different search terms like city names (Mumbai, Goa) or hotel names.</p>
      </div>
    </div>
  </div>

  <div class="search-field date">
    <label for="sb-checkin" class="sr-only">Check in</label>
    <input id="sb-checkin" name="checkin" type="date" aria-label="Check in" (change)="checkin = $any($event.target).value" class="input-date">
  </div>

  <div class="search-field date">
    <label for="sb-checkout" class="sr-only">Check out</label>
    <input id="sb-checkout" name="checkout" type="date" aria-label="Check out" (change)="checkout = $any($event.target).value" class="input-date">
  </div>

  <div class="search-field action">
    <button type="submit" class="btn btn-accent">Search</button>
  </div>
</form>

<!-- Search results handled by parent component -->
</div>
